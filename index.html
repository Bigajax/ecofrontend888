<!DOCTYPE html>
<html lang="pt-BR" class="font-sans">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />

    <!-- Viewport robusto p/ iOS + safe areas + evitar zoom em inputs -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no"
    />

    <!-- Aparência em apps móveis -->
    <meta name="theme-color" content="#ffffff" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />

    <title>ECO - Espelho Emocional e Comportamental</title>

    <link rel="preconnect" href="https://ecobackend888.onrender.com" crossorigin />
    <link rel="dns-prefetch" href="https://ecobackend888.onrender.com" />
    <link rel="preconnect" href="https://supabase.co" crossorigin />
    <link rel="dns-prefetch" href="https://supabase.co" />

    <!-- Helpers: --vh para 100vh e feature flag de backdrop-filter -->
    <script>
      (function () {
        function setVh() {
          var vh = (window.visualViewport ? window.visualViewport.height : window.innerHeight) * 0.01;
          document.documentElement.style.setProperty('--vh', vh + 'px');
        }
        setVh();
        window.addEventListener('resize', setVh, { passive: true });
        if (window.visualViewport) {
          window.visualViewport.addEventListener('resize', setVh, { passive: true });
        }
        var supportsBackdrop =
          (window.CSS && CSS.supports && CSS.supports('backdrop-filter', 'blur(1px)')) ||
          (window.CSS && CSS.supports && CSS.supports('-webkit-backdrop-filter', 'blur(1px)'));
        if (supportsBackdrop) document.documentElement.classList.add('supports-backdrop');
      })();
    </script>

    <!-- Pequeno reset para cores de fundo e altura mínima -->
    <style>
      html, body, #root { height: 100%; }
      body {
        margin: 0;
        background: #ffffff;
        color: #0f172a;
      }
      .min-h-viewport {
        min-height: calc(var(--vh, 1vh) * 100);
      }
    </style>
  </head>

  <body class="min-h-viewport">
    <div id="root"></div>
    <script type="module" src="./src/main.tsx"></script>
  </body>
</html>
